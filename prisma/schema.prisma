// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model Categories {
    id          String     @id @default(auto()) @map("_id") @db.ObjectId
    name        String     @unique
    description String?
    image       Bytes?
    products    Products[]
}

model Products {
    id           String         @id @default(auto()) @map("_id") @db.ObjectId
    name         String         @unique
    description  String?
    stock        Int
    price        Float
    image        Bytes?
    reservations Reservations[]
    category     Categories?    @relation(fields: [categoryID], references: [id])
    categoryID   String         @db.ObjectId
}

model Users {
    id           String         @id @default(auto()) @map("_id") @db.ObjectId
    
    
    reservations Reservations[]
}

model Reservations {
    id        String    @id @default(auto()) @map("_id") @db.ObjectId
    product   Products? @relation(fields: [productID], references: [id])
    productID String    @db.ObjectId
    user      Users?    @relation(fields: [userID], references: [id])
    userID    String    @db.ObjectId
}
